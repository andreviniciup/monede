{% extends 'financas/base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'financas/css/categorias.css' %}">
<script src="{% static 'js/categorias.js' %}"></script>
{% endblock %}

{% block title %}Categoria{% endblock %}

{% block content %}
<div class="container-categorias">
    <div class="cabecalho">
        <div class="botao-voltar">
            <a href="{% url 'inicio' %}">
                <i class="fas fa-chevron-left"></i>
            </a>
        </div>
        <h1>minhas categorias</h1>
        <div class="icone-pesquisa">
            <i class="fas fa-search"></i>
        </div>
    </div>

    <div class="secao-minhas-categorias">
        <h2>minhas categorias</h2>
        <div class="botao-criar-categoria" id="botaoCriarCategoria">
            <i class="fas fa-plus"></i>
            criar uma categoria
        </div>
        <div class="lista-categorias">
            {% for categoria in categorias_usuario %}
            <div class="item-categoria">
                <div class="icone-categoria" style="background-color: {{ categoria.cor }}">
                    <i class="{{ categoria.icone }}"></i>
                </div>
                <span class="nome-categoria">{{ categoria.nome }}</span>
            </div>
            {% empty %}
            <p>Você ainda não tem categorias personalizadas.</p>
            {% endfor %}
        </div>
    </div>

    <div class="secao-categorias-padrao">
        <h2>categorias padrões</h2>
        <div class="lista-categorias">
            {% for categoria in categorias_padrao %}
            <div class="item-categoria">
                <div class="icone-categoria" style="background-color: {{ categoria.cor }}">
                    <i class="{{ categoria.icone }}"></i>
                </div>
                <span class="nome-categoria">{{ categoria.nome }}</span>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- Modal para criar categoria -->
    <div class="modal" id="modalCategoria">
        <div class="conteudo-modal">
            <form method="POST" action="{% url 'criar_categoria' %}" id="formularioCategoria">
                {% csrf_token %}
                <div class="grupo-formulario">
                    <label>nome da categoria</label>
                    {{ formulario.nome }}
                </div>
                
                <div class="grupo-formulario">
                    <label>escolha uma cor</label>
                    <div class="seletor-cor">
                        <div class="opcao-cor" data-cor="#808080"></div>
                        <div class="opcao-cor" data-cor="#000000"></div>
                        <div class="opcao-cor" data-cor="#4B0082"></div>
                        <div class="opcao-cor" data-cor="#0000FF"></div>
                        <div class="opcao-cor" data-cor="#00BFFF"></div>
                        <div class="opcao-cor" data-cor="#00CED1"></div>
                        <div class="opcao-cor" data-cor="#228B22"></div>
                        <div class="opcao-cor" data-cor="#FFA500"></div>
                    </div>
                    {{ formulario.cor }}
                </div>

                <div class="grupo-formulario">
                    <label>escolha um ícone</label>
                    <div class="seletor-icone">
                        <div class="opcao-icone" data-icone="fas fa-utensils"></div>
                        <div class="opcao-icone" data-icone="fas fa-wrench"></div>
                        <div class="opcao-icone" data-icone="fas fa-tshirt"></div>
                        <div class="opcao-icone" data-icone="fas fa-credit-card"></div>
                        <div class="opcao-icone" data-icone="fas fa-lock"></div>
                        <div class="opcao-icone" data-icone="fas fa-dice"></div>
                        <div class="opcao-icone" data-icone="fas fa-home"></div>
                        <div class="opcao-icone" data-icone="fas fa-heart"></div>
                        <div class="opcao-icone" data-icone="fas fa-star"></div>
                        <div class="opcao-icone" data-icone="fas fa-gamepad"></div>
                        <div class="opcao-icone" data-icone="fas fa-palette"></div>
                        <div class="opcao-icone" data-icone="fas fa-mobile-alt"></div>
                        <div class="opcao-icone" data-icone="fas fa-graduation-cap"></div>
                    </div>
                    {{ formulario.icone }}
                </div>

                <button type="submit" class="botao-salvar">salvar</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}